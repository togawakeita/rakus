# 作戦ボード実装方針

## 概要
チャットアプリケーションの右側に、ルーム別の作戦ボードを実装する。各ルームに応じて異なる作戦情報や対戦相手の詳細情報を表示する。

## 実装方針

### 1. レイアウト構成
```
[Sidebar] [Chat Area] [Strategy Board]
    |         |              |
  150px    flex: 1        300px
```

### 2. コンポーネント設計

#### 2.1 StrategyBoard.vue (新規作成)
- **役割**: 作戦ボードのメインコンポーネント
- **Props**: 
  - `currentRoom`: 現在のルームID
  - `roomData`: ルーム情報
- **機能**:
  - ルームに応じた作戦情報の表示
  - 対戦相手情報の表示
  - 戦術メモの表示・編集
  - フォーメーション図の表示

#### 2.2 MatchInfo.vue (新規作成)
- **役割**: 試合情報の表示
- **Props**: 
  - `matchData`: 試合データ
- **機能**:
  - 試合日時、会場
  - 対戦相手情報
  - 試合結果（試合後）

#### 2.3 TacticsPanel.vue (新規作成)
- **役割**: 戦術パネル
- **機能**:
  - フォーメーション表示
  - 戦術メモ
  - 選手配置

### 3. データ構造設計

#### 3.1 戦略データの拡張
```javascript
const rooms = reactive({
  'team-a-match-a': {
    name: '試合A',
    type: 'match',
    icon: '🥅',
    parent: 'team-a',
    strategy: {
      opponent: {
        name: '○○高校',
        formation: '4-4-2',
        strengths: ['速攻', 'セットプレー'],
        weaknesses: ['左サイド守備', '後半スタミナ']
      },
      ourTactics: {
        formation: '4-3-3',
        keyPoints: ['右サイド攻撃', '中盤プレス'],
        players: {
          gk: '田中',
          df: ['佐藤', '鈴木', '高橋', '渡辺'],
          mf: ['山田', '中村', '小林'],
          fw: ['加藤', '吉田', '松本']
        }
      },
      memo: '前半は様子見、後半に勝負をかける'
    }
  }
})
```

### 4. ファイル構成

```
src/
├── components/
│   ├── ChatWithSidebar.vue (修正)
│   ├── StrategyBoard.vue (新規)
```

### 5. 実装手順

#### Phase 1: 基本構造の実装
1. `StrategyBoard.vue` コンポーネントの作成
2. `ChatWithSidebar.vue` のレイアウト修正（3カラム化）

#### Phase 4: データ永続化
<!-- 1. `strategyStore.js` でPinia状態管理 -->
1. とりあえずmockで作成
2. ローカルストレージへの戦略データ保存
3. データの同期機能

### 6. 表示制御ルール

#### 6.1 ルーム別表示内容
- **soccer-club**: 全体のお知らせ、スケジュール
- **team-a, team-b, team-c**: チーム方針、練習メニュー
- **team-a-match-a, team-a-match-b**: 試合別戦略、対戦相手分析

#### 6.2 権限管理（将来拡張）
- **監督・コーチ**: 戦略編集可能
- **選手**: 戦略閲覧のみ
- **マネージャー**: 試合情報編集可能

### 7. UI/UXの考慮事項

#### 7.1 レスポンシブ対応
- デスクトップ: 3カラム表示
<!-- - タブレット: 2カラム（作戦ボードはトグル表示）
- モバイル: 1カラム（タブ切り替え） -->

#### 7.2 視覚的な工夫
- 作戦ボードは薄いグレー背景で区別
- ルームタイプ別にアイコンカラーを変更
- 重要な戦術ポイントはハイライト表示

### 8. 技術仕様

#### 8.1 使用技術
- Vue 3 Composition API
- Vuetify 3 (UI コンポーネント)

#### 8.2 データ形式
- JSON形式での戦略データ管理
- ローカルストレージでの永続化

## 9. ルーム別作戦ボード内容

### 9.1 全体（soccer-club）

#### 9.1.1 お知らせ・連絡事項
- **部活動全体の連絡**
  - 練習日程の変更
  - 試合スケジュールの発表
  - 合宿・遠征の案内
  - 部費・用具に関する連絡
  - 保護者会の案内

- **表彰・成績報告**
  - 試合結果の報告
  - 個人・チーム表彰
  - 大会出場権獲得の報告
  - 昇格・降格の発表

#### 9.1.2 全体スケジュール
- **年間スケジュール**
  - 春季大会、夏季大会、秋季大会
  - 合宿・遠征予定
  - 進路説明会
  - 引退式・新人歓迎会

- **月間予定**
  - 練習試合の予定
  - 休部日の案内
  - 特別練習の実施

#### 9.1.3 部活動方針
- **年度目標**
  - 県大会出場
  - 技術向上
  - チームワーク強化
  - 人間性の向上

- **部訓・モットー**
  - 「一球入魂」「チーム一丸」
  - 挨拶・礼儀の徹底
  - 感謝の心を持つ

### 9.2 チーム（team-a, team-b, team-c）

#### 9.2.1 チーム方針・目標
- **チーム理念**
  - Aチーム: 県大会優勝を目指す
  - Bチーム: 技術向上と次世代育成
  - Cチーム: 基礎固めと協調性向上

- **月間目標**
  - 個人技術の向上
  - チーム戦術の習得
  - フィジカル強化
  - メンタル面の成長

#### 9.2.2 練習メニュー・スケジュール
- **基本練習メニュー**
  ```
  月曜日: 基礎技術（パス・ドリブル・シュート）
  火曜日: フィジカル強化
  水曜日: 戦術練習（攻撃・守備）
  木曜日: セットプレー練習
  金曜日: ゲーム形式練習
  土曜日: 練習試合
  日曜日: 休養日
  ```

- **重点強化項目**
  - パス精度の向上
  - 守備の連携
  - セットプレーの精度
  - 試合での判断力

#### 9.2.3 選手管理
- **スタメン・ベンチメンバー**
- **ポジション別役割分担**
- **個人課題・目標設定**
- **怪我・体調管理**

#### 9.2.4 チーム内競争
- **ポジション争い**
- **練習参加状況**
- **技術評価・採点**
- **試合出場時間記録**

### 9.3 試合（team-a-match-a, team-a-match-b）

#### 9.3.1 試合基本情報
- **対戦相手情報**
  ```
  チーム名: ○○高校サッカー部
  直近戦績: 5勝2敗1分
  得意戦術: カウンター攻撃
  注意選手: #10 田中（FW）、#5 佐藤（MF）
  ```

- **試合詳細**
  ```
  日時: 2025年8月15日（土）14:00キックオフ
  会場: 市民総合運動場 Aグラウンド
  審判: 3級審判2名
  天候: 晴れ予報（気温32度）
  ```

#### 9.3.2 相手チーム分析
- **フォーメーション・戦術**
  ```
  基本フォーメーション: 4-4-2
  攻撃の特徴: 右サイドからのクロス攻撃
  守備の特徴: 中盤でのプレス
  セットプレー: コーナーキックが脅威
  ```

- **相手の強み**
  - 個人技が高い攻撃陣
  - フィジカルの強さ
  - セットプレーの精度
  - 後半のスタミナ

- **相手の弱点**
  - 左サイドの守備が甘い
  - GKの反応が遅い
  - プレスをかけられると慌てる
  - 先制されると焦る傾向

#### 9.3.3 自チームの戦術
- **基本戦術**
  ```
  フォーメーション: 4-3-3
  攻撃方針: 左サイドからの攻撃
  守備方針: 中盤でのボール奪取
  ```

- **スタメン・交代策**
  ```
  GK: 田中
  DF: 佐藤、鈴木、高橋、渡辺
  MF: 山田、中村、小林
  FW: 加藤、吉田、松本
  
  交代要員: 伊藤、森田、武田
  ```

- **重要ポイント**
  - 前半15分は様子見
  - 相手の左サイドを狙う
  - セットプレーで失点しない
  - 後半20分以降に勝負

#### 9.3.4 試合プラン
- **前半の戦い方**
  ```
  0-15分: 相手の出方を見る、堅守
  15-30分: 徐々にペースアップ
  30-45分: 先制点を狙う
  ```

- **後半の戦い方**
  ```
  45-60分: 前半の流れを継続
  60-75分: 積極的な攻撃
  75-90分: 状況に応じて守備固めor追加点
  ```

#### 9.3.5 個人別指示
- **攻撃時の役割**
  ```
  #10 吉田: 相手DFの裏を狙う
  #11 松本: サイドチェンジを積極的に
  #8 中村: ゲームメイク、落ち着いて
  ```

- **守備時の役割**
  ```
  #4 高橋: 相手エースマーク
  #6 山田: ボール奪取後の展開
  #2 佐藤: オーバーラップのタイミング
  ```

#### 9.3.6 注意事項・特記事項
- **警告・退場回避**
  - 激しいプレーは控える
  - 審判への抗議禁止
  - 感情的にならない

- **怪我予防**
  - ウォーミングアップ徹底
  - 水分補給をこまめに
  - 無理なプレーは避ける

- **応援・サポート**
  - 保護者応援席の確認
  - ベンチからの声かけ
  - チーム一丸での戦い

#### 9.3.7 試合後の振り返り
- **良かった点**
- **改善点**
- **次回への課題**
- **個人評価**

## 今後の拡張可能性

1. **リアルタイム編集**: Socket.IOを使った複数人での戦略編集
2. **分析機能**: 過去の試合データ分析
3. **動画連携**: 戦術説明動画の埋め込み
4. **印刷機能**: 戦略ボードのPDF出力
5. **外部連携**: カレンダーアプリとの試合スケジュール同期
